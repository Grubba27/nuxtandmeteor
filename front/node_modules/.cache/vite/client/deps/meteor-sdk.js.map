{
  "version": 3,
  "sources": ["../../../../wolfy87-eventemitter/EventEmitter.js", "../../../../meteor-sdk/src/ddp/queue.js", "../../../../ejson/index.js", "../../../../meteor-sdk/src/ddp/utils.js", "../../../../meteor-sdk/src/ddp/socket.js", "../../../../meteor-sdk/src/ddp/ddp.js", "../../../../meteor-sdk/src/helpers/isEqual.js", "../../../../kind-of/index.js", "../../../../shallow-clone/index.js", "../../../../isobject/index.js", "../../../../is-plain-object/index.js", "../../../../clone-deep/index.js", "../../../../meteor-sdk/src/helpers/fullCopy.js", "../../../../meteor-sdk/src/classes/ddpEventListener.js", "../../../../meteor-sdk/src/classes/ddpSubscription.js", "../../../../meteor-sdk/src/classes/ddpOnChange.js", "../../../../meteor-sdk/src/classes/ddpReducer.js", "../../../../meteor-sdk/src/classes/ddpReactiveDocument.js", "../../../../meteor-sdk/src/classes/ddpReactiveCollection.js", "../../../../meteor-sdk/src/classes/ddpCollection.js", "../../../../meteor-sdk/src/DDPClient.ts"],
  "sourcesContent": ["/*!\n * EventEmitter v5.2.9 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - https://oli.me.uk/\n * @preserve\n */\n\n;(function (exports) {\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    function isValidListener (listener) {\n        if (typeof listener === 'function' || listener instanceof RegExp) {\n            return true\n        } else if (listener && typeof listener === 'object') {\n            return isValidListener(listener.listener)\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        if (!isValidListener(listener)) {\n            throw new TypeError('listener must be a function');\n        }\n\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n\n                for (i = 0; i < listeners.length; i++) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}(typeof window !== 'undefined' ? window : this || {}));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Queue = void 0;\nclass Queue {\n    constructor(consumer) {\n        this.consumer = consumer;\n        this.paused = false;\n        this.queue = [];\n    }\n    pause() {\n        this.paused = true;\n    }\n    continue() {\n        this.paused = false;\n        this.process();\n    }\n    push(element) {\n        this.queue.push(element);\n        this.process();\n    }\n    unshift(element) {\n        this.queue.unshift(element);\n        this.process();\n    }\n    process() {\n        if (!this.paused && this.queue.length !== 0) {\n            const ack = this.consumer(this.queue[0]);\n            if (ack) {\n                this.queue.shift();\n                if (!this.paused)\n                    this.process();\n            }\n        }\n    }\n    empty() {\n        this.queue = [];\n    }\n}\nexports.Queue = Queue;\nexports.default = Queue;\n", "/******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ([\n/* 0 */,\n/* 1 */\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.lengthOf = exports.keysOf = exports.isObject = exports.isInfOrNaN = exports.isFunction = exports.isArguments = exports.hasOwn = exports.handleError = exports.convertMapToObject = exports.checkError = void 0;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar isFunction = function isFunction(fn) {\n  return typeof fn === 'function';\n};\n\nexports.isFunction = isFunction;\n\nvar isObject = function isObject(fn) {\n  return _typeof(fn) === 'object';\n};\n\nexports.isObject = isObject;\n\nvar keysOf = function keysOf(obj) {\n  return Object.keys(obj);\n};\n\nexports.keysOf = keysOf;\n\nvar lengthOf = function lengthOf(obj) {\n  return Object.keys(obj).length;\n};\n\nexports.lengthOf = lengthOf;\n\nvar hasOwn = function hasOwn(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n\nexports.hasOwn = hasOwn;\n\nvar convertMapToObject = function convertMapToObject(map) {\n  return Array.from(map).reduce(function (acc, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    // reassign to not create new object\n    acc[key] = value;\n    return acc;\n  }, {});\n};\n\nexports.convertMapToObject = convertMapToObject;\n\nvar isArguments = function isArguments(obj) {\n  return obj != null && hasOwn(obj, 'callee');\n};\n\nexports.isArguments = isArguments;\n\nvar isInfOrNaN = function isInfOrNaN(obj) {\n  return Number.isNaN(obj) || obj === Infinity || obj === -Infinity;\n};\n\nexports.isInfOrNaN = isInfOrNaN;\nvar checkError = {\n  maxStack: function maxStack(msgError) {\n    return new RegExp('Maximum call stack size exceeded', 'g').test(msgError);\n  }\n};\nexports.checkError = checkError;\n\nvar handleError = function handleError(fn) {\n  return function () {\n    try {\n      return fn.apply(this, arguments);\n    } catch (error) {\n      var isMaxStack = checkError.maxStack(error.message);\n\n      if (isMaxStack) {\n        throw new Error('Converting circular structure to JSON');\n      }\n\n      throw error;\n    }\n  };\n};\n\nexports.handleError = handleError;\n\n/***/ }),\n/* 2 */\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Base64 = void 0;\n// Base 64 encoding\nvar BASE_64_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar BASE_64_VALS = Object.create(null);\n\nvar getChar = function getChar(val) {\n  return BASE_64_CHARS.charAt(val);\n};\n\nvar getVal = function getVal(ch) {\n  return ch === '=' ? -1 : BASE_64_VALS[ch];\n};\n\nfor (var i = 0; i < BASE_64_CHARS.length; i++) {\n  BASE_64_VALS[getChar(i)] = i;\n}\n\n;\n\nvar encode = function encode(array) {\n  if (typeof array === \"string\") {\n    var str = array;\n    array = newBinary(str.length);\n\n    for (var _i = 0; _i < str.length; _i++) {\n      var ch = str.charCodeAt(_i);\n\n      if (ch > 0xFF) {\n        throw new Error(\"Not ascii. Base64.encode can only take ascii strings.\");\n      }\n\n      array[_i] = ch;\n    }\n  }\n\n  var answer = [];\n  var a = null;\n  var b = null;\n  var c = null;\n  var d = null;\n\n  for (var _i2 = 0; _i2 < array.length; _i2++) {\n    switch (_i2 % 3) {\n      case 0:\n        a = array[_i2] >> 2 & 0x3F;\n        b = (array[_i2] & 0x03) << 4;\n        break;\n\n      case 1:\n        b = b | array[_i2] >> 4 & 0xF;\n        c = (array[_i2] & 0xF) << 2;\n        break;\n\n      case 2:\n        c = c | array[_i2] >> 6 & 0x03;\n        d = array[_i2] & 0x3F;\n        answer.push(getChar(a));\n        answer.push(getChar(b));\n        answer.push(getChar(c));\n        answer.push(getChar(d));\n        a = null;\n        b = null;\n        c = null;\n        d = null;\n        break;\n    }\n  }\n\n  if (a != null) {\n    answer.push(getChar(a));\n    answer.push(getChar(b));\n\n    if (c == null) {\n      answer.push('=');\n    } else {\n      answer.push(getChar(c));\n    }\n\n    if (d == null) {\n      answer.push('=');\n    }\n  }\n\n  return answer.join(\"\");\n}; // XXX This is a weird place for this to live, but it's used both by\n// this package and 'ejson', and we can't put it in 'ejson' without\n// introducing a circular dependency. It should probably be in its own\n// package or as a helper in a package that both 'base64' and 'ejson'\n// use.\n\n\nvar newBinary = function newBinary(len) {\n  if (typeof Uint8Array === 'undefined' || typeof ArrayBuffer === 'undefined') {\n    var ret = [];\n\n    for (var _i3 = 0; _i3 < len; _i3++) {\n      ret.push(0);\n    }\n\n    ret.$Uint8ArrayPolyfill = true;\n    return ret;\n  }\n\n  return new Uint8Array(new ArrayBuffer(len));\n};\n\nvar decode = function decode(str) {\n  var len = Math.floor(str.length * 3 / 4);\n\n  if (str.charAt(str.length - 1) == '=') {\n    len--;\n\n    if (str.charAt(str.length - 2) == '=') {\n      len--;\n    }\n  }\n\n  var arr = newBinary(len);\n  var one = null;\n  var two = null;\n  var three = null;\n  var j = 0;\n\n  for (var _i4 = 0; _i4 < str.length; _i4++) {\n    var c = str.charAt(_i4);\n    var v = getVal(c);\n\n    switch (_i4 % 4) {\n      case 0:\n        if (v < 0) {\n          throw new Error('invalid base64 string');\n        }\n\n        one = v << 2;\n        break;\n\n      case 1:\n        if (v < 0) {\n          throw new Error('invalid base64 string');\n        }\n\n        one = one | v >> 4;\n        arr[j++] = one;\n        two = (v & 0x0F) << 4;\n        break;\n\n      case 2:\n        if (v >= 0) {\n          two = two | v >> 2;\n          arr[j++] = two;\n          three = (v & 0x03) << 6;\n        }\n\n        break;\n\n      case 3:\n        if (v >= 0) {\n          arr[j++] = three | v;\n        }\n\n        break;\n    }\n  }\n\n  return arr;\n};\n\nvar Base64 = {\n  encode: encode,\n  decode: decode,\n  newBinary: newBinary\n};\nexports.Base64 = Base64;\n\n/***/ }),\n/* 3 */\n/***/ (function(module) {\n\n\n\nmodule.exports = {\n  //\n  // When fibers are not supported on you system Meteor automatically sets this\n  // function to a nope function. We're going to do the same here as there are\n  // small parts of the code that call this function.\n  //\n  _noYieldsAllowed: function _noYieldsAllowed(f) {\n    return f();\n  }\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n// Based on json2.js from https://github.com/douglascrockford/JSON-js\n//\n//    json2.js\n//    2012-10-08\n//\n//    Public Domain.\n//\n//    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\nfunction quote(string) {\n  return JSON.stringify(string);\n}\n\nvar str = function str(key, holder, singleIndent, outerIndent, canonical) {\n  var value = holder[key]; // What happens next depends on the value's type.\n\n  switch (_typeof(value)) {\n    case 'string':\n      return quote(value);\n\n    case 'number':\n      // JSON numbers must be finite. Encode non-finite numbers as null.\n      return isFinite(value) ? String(value) : 'null';\n\n    case 'boolean':\n      return String(value);\n    // If the type is 'object', we might be dealing with an object or an array or\n    // null.\n\n    case 'object':\n      {\n        // Due to a specification blunder in ECMAScript, typeof null is 'object',\n        // so watch out for that case.\n        if (!value) {\n          return 'null';\n        } // Make an array to hold the partial results of stringifying this object\n        // value.\n\n\n        var innerIndent = outerIndent + singleIndent;\n        var partial = [];\n        var v; // Is the value an array?\n\n        if (Array.isArray(value) || {}.hasOwnProperty.call(value, 'callee')) {\n          // The value is an array. Stringify every element. Use null as a\n          // placeholder for non-JSON values.\n          var length = value.length;\n\n          for (var i = 0; i < length; i += 1) {\n            partial[i] = str(i, value, singleIndent, innerIndent, canonical) || 'null';\n          } // Join all of the elements together, separated with commas, and wrap\n          // them in brackets.\n\n\n          if (partial.length === 0) {\n            v = '[]';\n          } else if (innerIndent) {\n            v = '[\\n' + innerIndent + partial.join(',\\n' + innerIndent) + '\\n' + outerIndent + ']';\n          } else {\n            v = '[' + partial.join(',') + ']';\n          }\n\n          return v;\n        } // Iterate through all of the keys in the object.\n\n\n        var keys = Object.keys(value);\n\n        if (canonical) {\n          keys = keys.sort();\n        }\n\n        keys.forEach(function (k) {\n          v = str(k, value, singleIndent, innerIndent, canonical);\n\n          if (v) {\n            partial.push(quote(k) + (innerIndent ? ': ' : ':') + v);\n          }\n        }); // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        if (partial.length === 0) {\n          v = '{}';\n        } else if (innerIndent) {\n          v = '{\\n' + innerIndent + partial.join(',\\n' + innerIndent) + '\\n' + outerIndent + '}';\n        } else {\n          v = '{' + partial.join(',') + '}';\n        }\n\n        return v;\n      }\n\n    default: // Do nothing\n\n  }\n}; // If the JSON object does not yet have a stringify method, give it one.\n\n\nvar canonicalStringify = function canonicalStringify(value, options) {\n  // Make a fake root object containing our value under the key of ''.\n  // Return the result of stringifying the value.\n  var allOptions = Object.assign({\n    indent: '',\n    canonical: false\n  }, options);\n\n  if (allOptions.indent === true) {\n    allOptions.indent = '  ';\n  } else if (typeof allOptions.indent === 'number') {\n    var newIndent = '';\n\n    for (var i = 0; i < allOptions.indent; i++) {\n      newIndent += ' ';\n    }\n\n    allOptions.indent = newIndent;\n  }\n\n  return str('', {\n    '': value\n  }, allOptions.indent, '', allOptions.canonical);\n};\n\nvar _default = canonicalStringify;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n/***/ })\n/******/ \t]);\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\nvar exports = __webpack_exports__;\n/* provided dependency */ var Base64 = __webpack_require__(2)[\"Base64\"];\n/* provided dependency */ var Meteor = __webpack_require__(3);\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.EJSON = void 0;\n\nvar _utils = __webpack_require__(1);\n\n/**\n * @namespace\n * @summary Namespace for EJSON functions\n */\nvar EJSON = {}; // Custom type interface definition\n\n/**\n * @class CustomType\n * @instanceName customType\n * @memberOf EJSON\n * @summary The interface that a class must satisfy to be able to become an\n * EJSON custom type via EJSON.addType.\n */\n\n/**\n * @function typeName\n * @memberOf EJSON.CustomType\n * @summary Return the tag used to identify this type.  This must match the\n *          tag used to register this type with\n *          [`EJSON.addType`](#ejson_add_type).\n * @locus Anywhere\n * @instance\n */\n\n/**\n * @function toJSONValue\n * @memberOf EJSON.CustomType\n * @summary Serialize this instance into a JSON-compatible value.\n * @locus Anywhere\n * @instance\n */\n\n/**\n * @function clone\n * @memberOf EJSON.CustomType\n * @summary Return a value `r` such that `this.equals(r)` is true, and\n *          modifications to `r` do not affect `this` and vice versa.\n * @locus Anywhere\n * @instance\n */\n\n/**\n * @function equals\n * @memberOf EJSON.CustomType\n * @summary Return `true` if `other` has a value equal to `this`; `false`\n *          otherwise.\n * @locus Anywhere\n * @param {Object} other Another object to compare this to.\n * @instance\n */\n\nexports.EJSON = EJSON;\nvar customTypes = new Map(); // Add a custom type, using a method of your choice to get to and\n// from a basic JSON-able representation.  The factory argument\n// is a function of JSON-able --> your object\n// The type you add must have:\n// - A toJSONValue() method, so that Meteor can serialize it\n// - a typeName() method, to show how to look it up in our type table.\n// It is okay if these methods are monkey-patched on.\n// EJSON.clone will use toJSONValue and the given factory to produce\n// a clone, but you may specify a method clone() that will be\n// used instead.\n// Similarly, EJSON.equals will use toJSONValue to make comparisons,\n// but you may provide a method equals() instead.\n\n/**\n * @summary Add a custom datatype to EJSON.\n * @locus Anywhere\n * @param {String} name A tag for your custom type; must be unique among\n *                      custom data types defined in your project, and must\n *                      match the result of your type's `typeName` method.\n * @param {Function} factory A function that deserializes a JSON-compatible\n *                           value into an instance of your type.  This should\n *                           match the serialization performed by your\n *                           type's `toJSONValue` method.\n */\n\nEJSON.addType = function (name, factory) {\n  if (customTypes.has(name)) {\n    throw new Error(\"Type \".concat(name, \" already present\"));\n  }\n\n  customTypes.set(name, factory);\n};\n\nvar builtinConverters = [{\n  // Date\n  matchJSONValue: function matchJSONValue(obj) {\n    return (0, _utils.hasOwn)(obj, '$date') && (0, _utils.lengthOf)(obj) === 1;\n  },\n  matchObject: function matchObject(obj) {\n    return obj instanceof Date;\n  },\n  toJSONValue: function toJSONValue(obj) {\n    return {\n      $date: obj.getTime()\n    };\n  },\n  fromJSONValue: function fromJSONValue(obj) {\n    return new Date(obj.$date);\n  }\n}, {\n  // RegExp\n  matchJSONValue: function matchJSONValue(obj) {\n    return (0, _utils.hasOwn)(obj, '$regexp') && (0, _utils.hasOwn)(obj, '$flags') && (0, _utils.lengthOf)(obj) === 2;\n  },\n  matchObject: function matchObject(obj) {\n    return obj instanceof RegExp;\n  },\n  toJSONValue: function toJSONValue(regexp) {\n    return {\n      $regexp: regexp.source,\n      $flags: regexp.flags\n    };\n  },\n  fromJSONValue: function fromJSONValue(obj) {\n    // Replaces duplicate / invalid flags.\n    return new RegExp(obj.$regexp, obj.$flags // Cut off flags at 50 chars to avoid abusing RegExp for DOS.\n    .slice(0, 50).replace(/[^gimuy]/g, '').replace(/(.)(?=.*\\1)/g, ''));\n  }\n}, {\n  // NaN, Inf, -Inf. (These are the only objects with typeof !== 'object'\n  // which we match.)\n  matchJSONValue: function matchJSONValue(obj) {\n    return (0, _utils.hasOwn)(obj, '$InfNaN') && (0, _utils.lengthOf)(obj) === 1;\n  },\n  matchObject: _utils.isInfOrNaN,\n  toJSONValue: function toJSONValue(obj) {\n    var sign;\n\n    if (Number.isNaN(obj)) {\n      sign = 0;\n    } else if (obj === Infinity) {\n      sign = 1;\n    } else {\n      sign = -1;\n    }\n\n    return {\n      $InfNaN: sign\n    };\n  },\n  fromJSONValue: function fromJSONValue(obj) {\n    return obj.$InfNaN / 0;\n  }\n}, {\n  // Binary\n  matchJSONValue: function matchJSONValue(obj) {\n    return (0, _utils.hasOwn)(obj, '$binary') && (0, _utils.lengthOf)(obj) === 1;\n  },\n  matchObject: function matchObject(obj) {\n    return typeof Uint8Array !== 'undefined' && obj instanceof Uint8Array || obj && (0, _utils.hasOwn)(obj, '$Uint8ArrayPolyfill');\n  },\n  toJSONValue: function toJSONValue(obj) {\n    return {\n      $binary: Base64.encode(obj)\n    };\n  },\n  fromJSONValue: function fromJSONValue(obj) {\n    return Base64.decode(obj.$binary);\n  }\n}, {\n  // Escaping one level\n  matchJSONValue: function matchJSONValue(obj) {\n    return (0, _utils.hasOwn)(obj, '$escape') && (0, _utils.lengthOf)(obj) === 1;\n  },\n  matchObject: function matchObject(obj) {\n    var match = false;\n\n    if (obj) {\n      var keyCount = (0, _utils.lengthOf)(obj);\n\n      if (keyCount === 1 || keyCount === 2) {\n        match = builtinConverters.some(function (converter) {\n          return converter.matchJSONValue(obj);\n        });\n      }\n    }\n\n    return match;\n  },\n  toJSONValue: function toJSONValue(obj) {\n    var newObj = {};\n    (0, _utils.keysOf)(obj).forEach(function (key) {\n      newObj[key] = EJSON.toJSONValue(obj[key]);\n    });\n    return {\n      $escape: newObj\n    };\n  },\n  fromJSONValue: function fromJSONValue(obj) {\n    var newObj = {};\n    (0, _utils.keysOf)(obj.$escape).forEach(function (key) {\n      newObj[key] = EJSON.fromJSONValue(obj.$escape[key]);\n    });\n    return newObj;\n  }\n}, {\n  // Custom\n  matchJSONValue: function matchJSONValue(obj) {\n    return (0, _utils.hasOwn)(obj, '$type') && (0, _utils.hasOwn)(obj, '$value') && (0, _utils.lengthOf)(obj) === 2;\n  },\n  matchObject: function matchObject(obj) {\n    return EJSON._isCustomType(obj);\n  },\n  toJSONValue: function toJSONValue(obj) {\n    var jsonValue = Meteor._noYieldsAllowed(function () {\n      return obj.toJSONValue();\n    });\n\n    return {\n      $type: obj.typeName(),\n      $value: jsonValue\n    };\n  },\n  fromJSONValue: function fromJSONValue(obj) {\n    var typeName = obj.$type;\n\n    if (!customTypes.has(typeName)) {\n      throw new Error(\"Custom EJSON type \".concat(typeName, \" is not defined\"));\n    }\n\n    var converter = customTypes.get(typeName);\n    return Meteor._noYieldsAllowed(function () {\n      return converter(obj.$value);\n    });\n  }\n}];\n\nEJSON._isCustomType = function (obj) {\n  return obj && (0, _utils.isFunction)(obj.toJSONValue) && (0, _utils.isFunction)(obj.typeName) && customTypes.has(obj.typeName());\n};\n\nEJSON._getTypes = function () {\n  var isOriginal = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return isOriginal ? customTypes : (0, _utils.convertMapToObject)(customTypes);\n};\n\nEJSON._getConverters = function () {\n  return builtinConverters;\n}; // Either return the JSON-compatible version of the argument, or undefined (if\n// the item isn't itself replaceable, but maybe some fields in it are)\n\n\nvar toJSONValueHelper = function toJSONValueHelper(item) {\n  for (var i = 0; i < builtinConverters.length; i++) {\n    var converter = builtinConverters[i];\n\n    if (converter.matchObject(item)) {\n      return converter.toJSONValue(item);\n    }\n  }\n\n  return undefined;\n}; // for both arrays and objects, in-place modification.\n\n\nvar adjustTypesToJSONValue = function adjustTypesToJSONValue(obj) {\n  // Is it an atom that we need to adjust?\n  if (obj === null) {\n    return null;\n  }\n\n  var maybeChanged = toJSONValueHelper(obj);\n\n  if (maybeChanged !== undefined) {\n    return maybeChanged;\n  } // Other atoms are unchanged.\n\n\n  if (!(0, _utils.isObject)(obj)) {\n    return obj;\n  } // Iterate over array or object structure.\n\n\n  (0, _utils.keysOf)(obj).forEach(function (key) {\n    var value = obj[key];\n\n    if (!(0, _utils.isObject)(value) && value !== undefined && !(0, _utils.isInfOrNaN)(value)) {\n      return; // continue\n    }\n\n    var changed = toJSONValueHelper(value);\n\n    if (changed) {\n      obj[key] = changed;\n      return; // on to the next key\n    } // if we get here, value is an object but not adjustable\n    // at this level.  recurse.\n\n\n    adjustTypesToJSONValue(value);\n  });\n  return obj;\n};\n\nEJSON._adjustTypesToJSONValue = adjustTypesToJSONValue;\n/**\n * @summary Serialize an EJSON-compatible value into its plain JSON\n *          representation.\n * @locus Anywhere\n * @param {EJSON} val A value to serialize to plain JSON.\n */\n\nEJSON.toJSONValue = function (item) {\n  var changed = toJSONValueHelper(item);\n\n  if (changed !== undefined) {\n    return changed;\n  }\n\n  var newItem = item;\n\n  if ((0, _utils.isObject)(item)) {\n    newItem = EJSON.clone(item);\n    adjustTypesToJSONValue(newItem);\n  }\n\n  return newItem;\n}; // Either return the argument changed to have the non-json\n// rep of itself (the Object version) or the argument itself.\n// DOES NOT RECURSE.  For actually getting the fully-changed value, use\n// EJSON.fromJSONValue\n\n\nvar fromJSONValueHelper = function fromJSONValueHelper(value) {\n  if ((0, _utils.isObject)(value) && value !== null) {\n    var keys = (0, _utils.keysOf)(value);\n\n    if (keys.length <= 2 && keys.every(function (k) {\n      return typeof k === 'string' && k.substr(0, 1) === '$';\n    })) {\n      for (var i = 0; i < builtinConverters.length; i++) {\n        var converter = builtinConverters[i];\n\n        if (converter.matchJSONValue(value)) {\n          return converter.fromJSONValue(value);\n        }\n      }\n    }\n  }\n\n  return value;\n}; // for both arrays and objects. Tries its best to just\n// use the object you hand it, but may return something\n// different if the object you hand it itself needs changing.\n\n\nvar adjustTypesFromJSONValue = function adjustTypesFromJSONValue(obj) {\n  if (obj === null) {\n    return null;\n  }\n\n  var maybeChanged = fromJSONValueHelper(obj);\n\n  if (maybeChanged !== obj) {\n    return maybeChanged;\n  } // Other atoms are unchanged.\n\n\n  if (!(0, _utils.isObject)(obj)) {\n    return obj;\n  }\n\n  (0, _utils.keysOf)(obj).forEach(function (key) {\n    var value = obj[key];\n\n    if ((0, _utils.isObject)(value)) {\n      var changed = fromJSONValueHelper(value);\n\n      if (value !== changed) {\n        obj[key] = changed;\n        return;\n      } // if we get here, value is an object but not adjustable\n      // at this level.  recurse.\n\n\n      adjustTypesFromJSONValue(value);\n    }\n  });\n  return obj;\n};\n\nEJSON._adjustTypesFromJSONValue = adjustTypesFromJSONValue;\n/**\n * @summary Deserialize an EJSON value from its plain JSON representation.\n * @locus Anywhere\n * @param {JSONCompatible} val A value to deserialize into EJSON.\n */\n\nEJSON.fromJSONValue = function (item) {\n  var changed = fromJSONValueHelper(item);\n\n  if (changed === item && (0, _utils.isObject)(item)) {\n    changed = EJSON.clone(item);\n    adjustTypesFromJSONValue(changed);\n  }\n\n  return changed;\n};\n/**\n * @summary Serialize a value to a string. For EJSON values, the serialization\n *          fully represents the value. For non-EJSON values, serializes the\n *          same way as `JSON.stringify`.\n * @locus Anywhere\n * @param {EJSON} val A value to stringify.\n * @param {Object} [options]\n * @param {Boolean | Integer | String} options.indent Indents objects and\n * arrays for easy readability.  When `true`, indents by 2 spaces; when an\n * integer, indents by that number of spaces; and when a string, uses the\n * string as the indentation pattern.\n * @param {Boolean} options.canonical When `true`, stringifies keys in an\n *                                    object in sorted order.\n */\n\n\nEJSON.stringify = (0, _utils.handleError)(function (item, options) {\n  var serialized;\n  var json = EJSON.toJSONValue(item);\n\n  if (options && (options.canonical || options.indent)) {\n    var canonicalStringify = __webpack_require__(4);\n\n    serialized = canonicalStringify(json, options);\n  } else {\n    serialized = JSON.stringify(json);\n  }\n\n  return serialized;\n});\n/**\n * @summary Parse a string into an EJSON value. Throws an error if the string\n *          is not valid EJSON.\n * @locus Anywhere\n * @param {String} str A string to parse into an EJSON value.\n */\n\nEJSON.parse = function (item) {\n  if (typeof item !== 'string') {\n    throw new Error('EJSON.parse argument should be a string');\n  }\n\n  return EJSON.fromJSONValue(JSON.parse(item));\n};\n/**\n * @summary Returns true if `x` is a buffer of binary data, as returned from\n *          [`EJSON.newBinary`](#ejson_new_binary).\n * @param {Object} x The variable to check.\n * @locus Anywhere\n */\n\n\nEJSON.isBinary = function (obj) {\n  return !!(typeof Uint8Array !== 'undefined' && obj instanceof Uint8Array || obj && obj.$Uint8ArrayPolyfill);\n};\n/**\n * @summary Return true if `a` and `b` are equal to each other.  Return false\n *          otherwise.  Uses the `equals` method on `a` if present, otherwise\n *          performs a deep comparison.\n * @locus Anywhere\n * @param {EJSON} a\n * @param {EJSON} b\n * @param {Object} [options]\n * @param {Boolean} options.keyOrderSensitive Compare in key sensitive order,\n * if supported by the JavaScript implementation.  For example, `{a: 1, b: 2}`\n * is equal to `{b: 2, a: 1}` only when `keyOrderSensitive` is `false`.  The\n * default is `false`.\n */\n\n\nEJSON.equals = function (a, b, options) {\n  var i;\n  var keyOrderSensitive = !!(options && options.keyOrderSensitive);\n\n  if (a === b) {\n    return true;\n  } // This differs from the IEEE spec for NaN equality, b/c we don't want\n  // anything ever with a NaN to be poisoned from becoming equal to anything.\n\n\n  if (Number.isNaN(a) && Number.isNaN(b)) {\n    return true;\n  } // if either one is falsy, they'd have to be === to be equal\n\n\n  if (!a || !b) {\n    return false;\n  }\n\n  if (!((0, _utils.isObject)(a) && (0, _utils.isObject)(b))) {\n    return false;\n  }\n\n  if (a instanceof Date && b instanceof Date) {\n    return a.valueOf() === b.valueOf();\n  }\n\n  if (EJSON.isBinary(a) && EJSON.isBinary(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if ((0, _utils.isFunction)(a.equals)) {\n    return a.equals(b, options);\n  }\n\n  if ((0, _utils.isFunction)(b.equals)) {\n    return b.equals(a, options);\n  } // Array.isArray works across iframes while instanceof won't\n\n\n  var aIsArray = Array.isArray(a);\n  var bIsArray = Array.isArray(b); // if not both or none are array they are not equal\n\n  if (aIsArray !== bIsArray) {\n    return false;\n  }\n\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (i = 0; i < a.length; i++) {\n      if (!EJSON.equals(a[i], b[i], options)) {\n        return false;\n      }\n    }\n\n    return true;\n  } // fallback for custom types that don't implement their own equals\n\n\n  switch (EJSON._isCustomType(a) + EJSON._isCustomType(b)) {\n    case 1:\n      return false;\n\n    case 2:\n      return EJSON.equals(EJSON.toJSONValue(a), EJSON.toJSONValue(b));\n\n    default: // Do nothing\n\n  } // fall back to structural equality of objects\n\n\n  var ret;\n  var aKeys = (0, _utils.keysOf)(a);\n  var bKeys = (0, _utils.keysOf)(b);\n\n  if (keyOrderSensitive) {\n    i = 0;\n    ret = aKeys.every(function (key) {\n      if (i >= bKeys.length) {\n        return false;\n      }\n\n      if (key !== bKeys[i]) {\n        return false;\n      }\n\n      if (!EJSON.equals(a[key], b[bKeys[i]], options)) {\n        return false;\n      }\n\n      i++;\n      return true;\n    });\n  } else {\n    i = 0;\n    ret = aKeys.every(function (key) {\n      if (!(0, _utils.hasOwn)(b, key)) {\n        return false;\n      }\n\n      if (!EJSON.equals(a[key], b[key], options)) {\n        return false;\n      }\n\n      i++;\n      return true;\n    });\n  }\n\n  return ret && i === bKeys.length;\n};\n/**\n * @summary Return a deep copy of `val`.\n * @locus Anywhere\n * @param {EJSON} val A value to copy.\n */\n\n\nEJSON.clone = function (v) {\n  var ret;\n\n  if (!(0, _utils.isObject)(v)) {\n    return v;\n  }\n\n  if (v === null) {\n    return null; // null has typeof \"object\"\n  }\n\n  if (v instanceof Date) {\n    return new Date(v.getTime());\n  } // RegExps are not really EJSON elements (eg we don't define a serialization\n  // for them), but they're immutable anyway, so we can support them in clone.\n\n\n  if (v instanceof RegExp) {\n    return v;\n  }\n\n  if (EJSON.isBinary(v)) {\n    ret = EJSON.newBinary(v.length);\n\n    for (var i = 0; i < v.length; i++) {\n      ret[i] = v[i];\n    }\n\n    return ret;\n  }\n\n  if (Array.isArray(v)) {\n    return v.map(EJSON.clone);\n  }\n\n  if ((0, _utils.isArguments)(v)) {\n    return Array.from(v).map(EJSON.clone);\n  } // handle general user-defined typed Objects if they have a clone method\n\n\n  if ((0, _utils.isFunction)(v.clone)) {\n    return v.clone();\n  } // handle other custom types\n\n\n  if (EJSON._isCustomType(v)) {\n    return EJSON.fromJSONValue(EJSON.clone(EJSON.toJSONValue(v)), true);\n  } // handle other objects\n\n\n  ret = {};\n  (0, _utils.keysOf)(v).forEach(function (key) {\n    ret[key] = EJSON.clone(v[key]);\n  });\n  return ret;\n};\n/**\n * @summary Allocate a new buffer of binary data that EJSON can serialize.\n * @locus Anywhere\n * @param {Number} size The number of bytes of binary data to allocate.\n */\n// EJSON.newBinary is the public documented API for this functionality,\n// but the implementation is in the 'base64' package to avoid\n// introducing a circular dependency. (If the implementation were here,\n// then 'base64' would have to use EJSON.newBinary, and 'ejson' would\n// also have to use 'base64'.)\n\n\nEJSON.newBinary = Base64.newBinary;\n}();\nmodule.exports = __webpack_exports__.EJSON;\n/******/ })()\n;", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.run = exports.generateId = void 0;\nlet id = 0;\nfunction generateId() {\n    return (id++).toString();\n}\nexports.generateId = generateId;\nfunction run(runnable) {\n    try {\n        const r = runnable();\n        return [r, null];\n    }\n    catch (e) {\n        return [null, e];\n    }\n}\nexports.run = run;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst wolfy87_eventemitter_1 = __importDefault(require(\"wolfy87-eventemitter\"));\nconst ejson_1 = __importDefault(require(\"ejson\"));\nconst utils_1 = require(\"./utils\");\nclass Socket extends wolfy87_eventemitter_1.default {\n    constructor(SocketConstructor, endpoint) {\n        super();\n        this.SocketConstructor = SocketConstructor;\n        this.endpoint = endpoint;\n        this.rawSocket = null;\n    }\n    send(object) {\n        const message = ejson_1.default.stringify(object);\n        this.rawSocket.send(message);\n        // Emit a copy of the object, as the listener might mutate it.\n        this.emit(\"message:out\", ejson_1.default.parse(message));\n    }\n    open() {\n        /*\n        *   Makes `open` a no-op if there's already a `rawSocket`. This avoids\n        *   memory / socket leaks if `open` is called twice (e.g. by a user\n        *   calling `ddp.connect` twice) without properly disposing of the\n        *   socket connection. `rawSocket` gets automatically set to `null` only\n        *   when it goes into a closed or error state. This way `rawSocket` is\n        *   disposed of correctly: the socket connection is closed, and the\n        *   object can be garbage collected.\n        */\n        if (this.rawSocket) {\n            return;\n        }\n        this.rawSocket = new this.SocketConstructor(this.endpoint);\n        /*\n        *   Calls to `onopen` and `onclose` directly trigger the `open` and\n        *   `close` events on the `Socket` instance.\n        */\n        this.rawSocket.onopen = () => this.emit(\"open\");\n        this.rawSocket.onclose = () => {\n            this.rawSocket = null;\n            this.emit(\"close\");\n        };\n        /*\n        *   Calls to `onerror` trigger the `close` event on the `Socket`\n        *   instance, and cause the `rawSocket` object to be disposed of.\n        *   Since it's not clear what conditions could cause the error and if\n        *   it's possible to recover from it, we prefer to always close the\n        *   connection (if it isn't already) and dispose of the socket object.\n        */\n        this.rawSocket.onerror = () => {\n            // It's not clear what the socket lifecycle is when errors occurr.\n            // Hence, to avoid the `close` event to be emitted twice, before\n            // manually closing the socket we de-register the `onclose`\n            // callback.\n            if (this.rawSocket && this.rawSocket.onclose) {\n                // @ts-ignore\n                delete this.rawSocket.onclose;\n            }\n            // Safe to perform even if the socket is already closed\n            this.rawSocket.close();\n            this.rawSocket = null;\n            this.emit(\"close\");\n        };\n        /*\n        *   Calls to `onmessage` trigger a `message:in` event on the `Socket`\n        *   instance only once the message (first parameter to `onmessage`) has\n        *   been successfully parsed into a javascript object.\n        */\n        this.rawSocket.onmessage = (message) => {\n            const [object, error] = (0, utils_1.run)(() => ejson_1.default.parse(message.data));\n            if (error) {\n                // Simply ignore the malformed message and return\n                return;\n            }\n            // Outside the try-catch block as it must only catch EJSON parsing\n            // errors, not errors that may occur inside a \"message:in\" event\n            // handler\n            this.emit(\"message:in\", object);\n        };\n    }\n    close() {\n        /*\n        *   Avoid throwing an error if `rawSocket === null`\n        */\n        if (this.rawSocket) {\n            this.rawSocket.close();\n        }\n    }\n}\nexports.default = Socket;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst wolfy87_eventemitter_1 = __importDefault(require(\"wolfy87-eventemitter\"));\nconst queue_1 = __importDefault(require(\"./queue\"));\nconst socket_1 = __importDefault(require(\"./socket\"));\nconst utils_1 = require(\"./utils\");\nconst DDP_VERSION = \"1\";\nconst PUBLIC_EVENTS = [\n    // Subscription messages\n    \"ready\", \"nosub\", \"added\", \"changed\", \"removed\",\n    // Method messages\n    \"result\", \"updated\",\n    // Error messages\n    \"error\"\n];\nconst DEFAULT_RECONNECT_INTERVAL = 10000;\nclass DDP extends wolfy87_eventemitter_1.default {\n    constructor(options) {\n        super();\n        this.cleanQueue = false;\n        this.autoConnect = false;\n        this.status = \"disconnected\";\n        //DDP session id\n        this.sessionId = null;\n        //clean queue on disconnect or not, default to false\n        this.cleanQueue = options.cleanQueue || false;\n        // Default `autoConnect` and `autoReconnect` to true\n        this.autoConnect = options.autoConnect !== false;\n        this.autoReconnect = options.autoReconnect !== false;\n        this.autoReconnectUserValue = this.autoReconnect;\n        this.reconnectInterval = options.reconnectInterval || DEFAULT_RECONNECT_INTERVAL;\n        this.messageQueue = new queue_1.default(message => {\n            if (this.status === \"connected\") {\n                this.socket.send(message);\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        this.socket = new socket_1.default(options.SocketConstructor, options.endpoint);\n        this.socket.on(\"open\", () => {\n            // When the socket opens, send the `connect` message\n            // to establish the DDP connection\n            let params = {\n                msg: \"connect\",\n                version: DDP_VERSION,\n                support: [DDP_VERSION],\n                session: undefined\n            };\n            if (this.sessionId)\n                params.session = this.sessionId;\n            this.socket.send(params);\n        });\n        this.socket.on(\"close\", () => {\n            let oldStatus = this.status;\n            this.status = \"disconnected\";\n            if (this.cleanQueue)\n                this.messageQueue.empty();\n            if (oldStatus != \"disconnected\")\n                this.emit(\"disconnected\");\n            if (this.autoReconnect) {\n                // Schedule a reconnection\n                setTimeout(this.socket.open.bind(this.socket), this.reconnectInterval);\n            }\n        });\n        this.socket.on(\"message:in\", (message) => {\n            if (message.msg === \"connected\") {\n                this.status = \"connected\";\n                this.sessionId = message.session ? message.session : null;\n                this.messageQueue.process();\n                this.emit(\"connected\", message);\n            }\n            else if (message.msg === \"ping\") {\n                // Reply with a `pong` message to prevent the server from\n                // closing the connection\n                this.socket.send({ msg: \"pong\", id: message.id });\n            }\n            else if (PUBLIC_EVENTS.includes(message.msg)) {\n                this.emit(message.msg, message);\n            }\n        });\n        if (this.autoConnect) {\n            this.connect();\n        }\n    }\n    // @ts-ignore\n    emit(event, ...args) {\n        if (args === undefined)\n            setTimeout(super.emit.bind(this, event), 0);\n        else\n            setTimeout(super.emit.bind(this, event, ...args), 0);\n    }\n    connect() {\n        this.autoReconnect = this.autoReconnectUserValue;\n        this.socket.open();\n    }\n    disconnect() {\n        /*\n        *   If `disconnect` is called, the caller likely doesn't want the\n        *   the instance to try to auto-reconnect. Therefore we set the\n        *   `autoReconnect` flag to false.\n        *   Also we should remember autoReconnect value to restore it on connect.\n        */\n        this.autoReconnectUserValue = this.autoReconnect;\n        this.autoReconnect = false;\n        this.sessionId = null;\n        this.socket.close();\n    }\n    pauseQueue() {\n        this.messageQueue.pause();\n    }\n    continueQueue() {\n        this.messageQueue.continue();\n    }\n    method(name, params, atBeginning = false) {\n        const id = (0, utils_1.generateId)();\n        this.messageQueue[atBeginning ? 'unshift' : 'push']({\n            msg: \"method\",\n            id: id,\n            method: name,\n            params: params\n        });\n        return id;\n    }\n    sub(name, params, id = (0, utils_1.generateId)()) {\n        this.messageQueue.push({\n            msg: \"sub\",\n            id: id,\n            name: name,\n            params: params\n        });\n        return id;\n    }\n    unsub(id) {\n        this.messageQueue.push({\n            msg: \"unsub\",\n            id: id\n        });\n        return id;\n    }\n}\nexports.default = DDP;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEqual = void 0;\nconst isEqual = (value, other) => {\n    // Get the value type\n    const type = Object.prototype.toString.call(value);\n    // If the two objects are not the same type, return false\n    if (type !== Object.prototype.toString.call(other))\n        return false;\n    // If items are not an object or array, return false\n    if (['[object Array]', '[object Object]'].indexOf(type) < 0)\n        return false;\n    // Compare the length of the length of the two items\n    const valueLen = Array.isArray(value) ? value.length : Object.keys(value).length;\n    const otherLen = Array.isArray(other) ? other.length : Object.keys(other).length;\n    if (valueLen !== otherLen)\n        return false;\n    // Compare two items\n    const compare = (item1, item2) => {\n        // Get the object type\n        const itemType = Object.prototype.toString.call(item1);\n        // If an object or array, compare recursively\n        if (['[object Array]', '[object Object]'].indexOf(itemType) >= 0) {\n            if (!(0, exports.isEqual)(item1, item2))\n                return false;\n        }\n        // Otherwise, do a simple comparison\n        else {\n            // If the two items are not the same type, return false\n            if (itemType !== Object.prototype.toString.call(item2))\n                return false;\n            // Else if it's a function, convert to a string and compare\n            // Otherwise, just compare\n            if (itemType === '[object Function]') {\n                if (item1.toString() !== item2.toString())\n                    return false;\n            }\n            else {\n                // @ts-ignore\n                if (item1 !== item2)\n                    return false;\n            }\n        }\n    };\n    // Compare properties\n    if (Array.isArray(value) && Array.isArray(other)) {\n        for (let i = 0; i < valueLen; i++) {\n            if (!compare(value[i], other[i]))\n                return false;\n        }\n    }\n    else {\n        for (const key in value) {\n            if (value.hasOwnProperty(key) && other.hasOwnProperty(key)) {\n                const k = key;\n                // @ts-ignore\n                if (!compare(value[key], other[k]))\n                    return false;\n            }\n        }\n    }\n    // If nothing failed, return true\n    return true;\n};\nexports.isEqual = isEqual;\n", "var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n", "/*!\n * shallow-clone <https://github.com/jonschlinkert/shallow-clone>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst valueOf = Symbol.prototype.valueOf;\nconst typeOf = require('kind-of');\n\nfunction clone(val, deep) {\n  switch (typeOf(val)) {\n    case 'array':\n      return val.slice();\n    case 'object':\n      return Object.assign({}, val);\n    case 'date':\n      return new val.constructor(Number(val));\n    case 'map':\n      return new Map(val);\n    case 'set':\n      return new Set(val);\n    case 'buffer':\n      return cloneBuffer(val);\n    case 'symbol':\n      return cloneSymbol(val);\n    case 'arraybuffer':\n      return cloneArrayBuffer(val);\n    case 'float32array':\n    case 'float64array':\n    case 'int16array':\n    case 'int32array':\n    case 'int8array':\n    case 'uint16array':\n    case 'uint32array':\n    case 'uint8clampedarray':\n    case 'uint8array':\n      return cloneTypedArray(val);\n    case 'regexp':\n      return cloneRegExp(val);\n    case 'error':\n      return Object.create(val);\n    default: {\n      return val;\n    }\n  }\n}\n\nfunction cloneRegExp(val) {\n  const flags = val.flags !== void 0 ? val.flags : (/\\w+$/.exec(val) || void 0);\n  const re = new val.constructor(val.source, flags);\n  re.lastIndex = val.lastIndex;\n  return re;\n}\n\nfunction cloneArrayBuffer(val) {\n  const res = new val.constructor(val.byteLength);\n  new Uint8Array(res).set(new Uint8Array(val));\n  return res;\n}\n\nfunction cloneTypedArray(val, deep) {\n  return new val.constructor(val.buffer, val.byteOffset, val.length);\n}\n\nfunction cloneBuffer(val) {\n  const len = val.length;\n  const buf = Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : Buffer.from(len);\n  val.copy(buf);\n  return buf;\n}\n\nfunction cloneSymbol(val) {\n  return valueOf ? Object(valueOf.call(val)) : {};\n}\n\n/**\n * Expose `clone`\n */\n\nmodule.exports = clone;\n", "/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n", "/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n", "'use strict';\n\n/**\n * Module dependenices\n */\n\nconst clone = require('shallow-clone');\nconst typeOf = require('kind-of');\nconst isPlainObject = require('is-plain-object');\n\nfunction cloneDeep(val, instanceClone) {\n  switch (typeOf(val)) {\n    case 'object':\n      return cloneObjectDeep(val, instanceClone);\n    case 'array':\n      return cloneArrayDeep(val, instanceClone);\n    default: {\n      return clone(val);\n    }\n  }\n}\n\nfunction cloneObjectDeep(val, instanceClone) {\n  if (typeof instanceClone === 'function') {\n    return instanceClone(val);\n  }\n  if (instanceClone || isPlainObject(val)) {\n    const res = new val.constructor();\n    for (let key in val) {\n      res[key] = cloneDeep(val[key], instanceClone);\n    }\n    return res;\n  }\n  return val;\n}\n\nfunction cloneArrayDeep(val, instanceClone) {\n  const res = new val.constructor(val.length);\n  for (let i = 0; i < val.length; i++) {\n    res[i] = cloneDeep(val[i], instanceClone);\n  }\n  return res;\n}\n\n/**\n * Expose `cloneDeep`\n */\n\nmodule.exports = cloneDeep;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fullCopy = void 0;\nconst clone_deep_1 = __importDefault(require(\"clone-deep\"));\nexports.fullCopy = clone_deep_1.default;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ddpEventListener = void 0;\nfunction ddpEventListener(eventname, f, ddplink) {\n    let _started = false;\n    const start = () => {\n        if (!_started) {\n            ddplink.ddpConnection.on(eventname, f);\n            _started = true;\n        }\n    };\n    const stop = () => {\n        if (_started) {\n            ddplink.ddpConnection.removeListener(eventname, f);\n            _started = false;\n        }\n    };\n    start();\n    return { start, stop };\n}\nexports.ddpEventListener = ddpEventListener;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ddpSubscription = void 0;\nclass ddpSubscription {\n    constructor(pubname, args, ddplink) {\n        this._nosub = false;\n        this._started = false;\n        this._ready = false;\n        this.selfReadyEvent = {\n            start: () => {\n            },\n            stop: () => {\n            }\n        };\n        this.selfNosubEvent = {\n            start: () => {\n            },\n            stop: () => {\n            }\n        };\n        this._ddplink = ddplink;\n        this.pubname = pubname;\n        this.args = args;\n        this.selfReadyEvent = ddplink.on('ready', (m) => {\n            if (m.subs.includes(this.subscriptionId)) {\n                this._ready = true;\n                this._nosub = false;\n            }\n        });\n        this.selfNosubEvent = ddplink.on('nosub', (m) => {\n            if (m.id == this.subscriptionId) {\n                this._ready = false;\n                this._nosub = true;\n                this._started = false;\n            }\n        });\n        this.start();\n    }\n    /**\n     * Runs everytime when `nosub` message corresponding to the subscription comes from the server.\n     * @public\n     * @param {Function} f - Function, event handler.\n     * @return {ddpEventListener}\n     */\n    onNosub(f) {\n        if (this.isStopped()) {\n            f();\n        }\n        else {\n            return this._ddplink.on('nosub', (m) => {\n                if (m.id == this.subscriptionId) {\n                    f(m.error || m);\n                }\n            });\n        }\n    }\n    /**\n     * Runs everytime when `ready` message corresponding to the subscription comes from the server.\n     * @public\n     * @param {Function} f - Function, event handler.\n     * @return {ddpEventListener}\n     */\n    onReady(f) {\n        //    ,    -?\n        if (this.isReady()) {\n            f();\n        }\n        else {\n            return this._ddplink.on('ready', (m) => {\n                if (m.subs.includes(this.subscriptionId)) {\n                    f();\n                }\n            });\n        }\n    }\n    /**\n     * Returns true if subsciprtion is ready otherwise false.\n     * @public\n     * @return {boolean}\n     */\n    isReady() {\n        return this._ready;\n    }\n    /**\n     * Returns true if subscription is stopped otherwise false.\n     * @public\n     * @return {boolean}\n     */\n    isStopped() {\n        return this._nosub;\n    }\n    /**\n     * Returns a promise which resolves when subscription is ready or rejects when `nosub` message arrives.\n     * @public\n     * @return {Promise}\n     */\n    ready() {\n        return new Promise((resolve, reject) => {\n            if (this.isReady()) {\n                resolve();\n            }\n            else {\n                let onReady = this._ddplink.on('ready', (m) => {\n                    if (m.subs.includes(this.subscriptionId)) {\n                        onReady.stop();\n                        onNosub.stop();\n                        resolve();\n                    }\n                });\n                let onNosub = this._ddplink.on('nosub', (m) => {\n                    if (m.id == this.subscriptionId) {\n                        onNosub.stop();\n                        onReady.stop();\n                        reject(m.error || m);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Returns a promise which resolves when corresponding `nosub` message arrives.\n     * Rejects when `nosub` comes with error.\n     * @public\n     * @return {Promise}\n     */\n    nosub() {\n        return new Promise((resolve, reject) => {\n            if (this.isStopped()) {\n                resolve();\n            }\n            else {\n                let onNosub = this._ddplink.on('nosub', (m) => {\n                    if (m.id == this.subscriptionId) {\n                        this._nosub = true;\n                        onNosub.stop();\n                        if (m.error) {\n                            reject(m.error);\n                        }\n                        else {\n                            resolve();\n                        }\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Returns true if subscription is active otherwise false.\n     * @public\n     * @return {Promise}\n     */\n    isOn() {\n        return this._started;\n    }\n    /**\n     * Completly removes subscription.\n     * @public\n     */\n    remove() {\n        // stopping nosub listener\n        this.selfNosubEvent.stop();\n        // stopping the subscription and ready listener\n        this.stop();\n        // removing from sub list inside simpleDDP instance\n        let i = this._ddplink.subs.indexOf(this);\n        if (i > -1) {\n            this._ddplink.subs.splice(i, 1);\n        }\n    }\n    /**\n     * Stops subscription and return a promise which resolves when subscription is stopped.\n     * @public\n     * @return {Promise}\n     */\n    stop() {\n        if (this._started) {\n            // stopping ready listener\n            this.selfReadyEvent.stop();\n            // unsubscribing\n            if (!this._nosub)\n                this._ddplink.ddpConnection.unsub(this.subscriptionId);\n            this._started = false;\n            this._ready = false;\n        }\n        return this.nosub();\n    }\n    /**\n     * Returns subscription id.\n     * @private\n     * @return {Promise}\n     */\n    _getId() {\n        return this.subscriptionId;\n    }\n    /**\n     * Start the subscription. Runs on class creation.\n     * Returns a promise which resolves when subscription is ready.\n     * @public\n     * @param {Array} args - Subscription arguments.\n     * @return {Promise}\n     */\n    start(args) {\n        if (!this._started) {\n            // starting ready listener\n            this.selfReadyEvent.start();\n            // subscribing\n            if (Array.isArray(args))\n                this.args = args;\n            this.subscriptionId = this._ddplink.ddpConnection.sub(this.pubname, this.args);\n            this._started = true;\n        }\n        return this.ready();\n    }\n    /**\n     * Restart the subscription. You can also change subscription arguments.\n     * Returns a promise which resolves when subscription is ready.\n     * @public\n     * @param {Array} [args] - Subscription arguments.\n     * @return {Promise}\n     */\n    restart(args) {\n        return new Promise((resolve, reject) => {\n            this.stop().then(() => {\n                this.start(args).then(() => {\n                    resolve();\n                }).catch((e) => {\n                    reject(e);\n                });\n            }).catch((e) => {\n                reject(e);\n            });\n        });\n    }\n}\nexports.ddpSubscription = ddpSubscription;\n", "\"use strict\";\n/**\n * DDP change listener class.\n * @constructor\n * @param {Object} obj - Describes changes of interest.\n * @param {*} inst - Event handler instance.\n * @param {simpleDDP} [listenersArray = 'onChangeFuncs'] - Property name of event handler instance, array of listeners.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ddpOnChange = void 0;\nfunction ddpOnChange(obj, inst, listenersArray = 'onChangeFuncs') {\n    let _isStopped = true;\n    const start = () => {\n        if (_isStopped) {\n            inst[listenersArray].push(obj);\n            _isStopped = false;\n        }\n    };\n    const stop = () => {\n        const index = inst[listenersArray].indexOf(obj);\n        if (index > -1) {\n            inst[listenersArray].splice(index, 1);\n            _isStopped = true;\n        }\n    };\n    start();\n    return { start, stop };\n}\nexports.ddpOnChange = ddpOnChange;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ddpReducer = void 0;\nconst ddpOnChange_js_1 = require(\"./ddpOnChange.js\");\n/**\n * A reducer class for a reactive document.\n * @constructor\n * @param {ddpReactiveCollection} ddpReactiveCollectionInstance - Instance of @see ddpReactiveCollection class.\n * @param {Function} reducer - Function for a reduction.\n * @param {*} initialValue - Initial value for a reduction function.\n */\nclass ddpReducer {\n    constructor(ddpReactiveCollectionInstance, reducer, initialValue) {\n        this._started = false;\n        this._data = { result: null };\n        this._tickers = [];\n        this._ddpReactiveCollectionInstance = ddpReactiveCollectionInstance;\n        this._reducer = reducer;\n        this._initialValue = initialValue;\n        this.start();\n    }\n    /**\n     * Forcibly reduces reactive data.\n     * @public\n     */\n    doReduce() {\n        if (this._started) {\n            this._data.result = this._ddpReactiveCollectionInstance.data().reduce(this._reducer, this._initialValue);\n            this._tickers.forEach((ticker) => {\n                ticker(this.data().result);\n            });\n        }\n    }\n    /**\n     * Starts reactiveness for the reduced value of the collection.\n     * This method is being called on instance creation.\n     * @public\n     */\n    start() {\n        if (!this._started) {\n            this.doReduce();\n            this._ddpReactiveCollectionInstance._activateReducer(this);\n            this._started = true;\n        }\n    }\n    /**\n     * Stops reactiveness.\n     * @public\n     */\n    stop() {\n        if (this._started) {\n            this._ddpReactiveCollectionInstance._deactivateReducer(this);\n            this._started = false;\n        }\n    }\n    /**\n     * Returns reactive reduce.\n     * @public\n     * @return {Object} - {result:reducedValue}\n     */\n    data() {\n        return this._data;\n    }\n    /**\n     * Runs a function every time a change occurs.\n     * @param {Function} f - Function which recieves a reduced value at each change.\n     * @public\n     */\n    onChange(f) {\n        const self = this;\n        return (0, ddpOnChange_js_1.ddpOnChange)(f, self, '_tickers');\n    }\n}\nexports.ddpReducer = ddpReducer;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ddpReactiveDocument = void 0;\nconst ddpOnChange_js_1 = require(\"./ddpOnChange.js\");\n/**\n * A reactive document class.\n * @constructor\n * @param {ddpReactiveCollection} ddpReactiveCollectionInstance - Instance of @see ddpReactiveCollection class.\n * @param {Object} [settings={preserve:false}] - Settings for reactive object. When preserve is true,\n * reactive object won't change when corresponding object is being deleted.\n */\nclass ddpReactiveDocument {\n    constructor(ddpReactiveCollectionInstance, settings) {\n        this._ddpReactiveCollectionInstance = ddpReactiveCollectionInstance;\n        this._started = false;\n        this._data = {};\n        this._tickers = [];\n        this._preserve = false;\n        if (typeof settings === 'object' && settings !== null)\n            this.settings(settings);\n        this.start();\n    }\n    /**\n     * Updates reactive object from local collection copies.\n     * @private\n     * @param {Object} newState - Document's new state.\n     */\n    _update(newState) {\n        if (newState) {\n            //clean object\n            Object.keys(this._data).forEach((key) => {\n                // @ts-ignore\n                delete this._data[key];\n            });\n            //assign new state\n            Object.assign(this._data, newState);\n        }\n        else {\n            // no object clean if not preserved\n            if (!this._preserve) {\n                Object.keys(this._data).forEach((key) => {\n                    // @ts-ignore\n                    delete this._data[key];\n                });\n            }\n        }\n        this._tickers.forEach((ticker) => {\n            ticker(this.data());\n        });\n    }\n    /**\n     * Starts reactiveness for the document. This method is being called on instance creation.\n     * @public\n     */\n    start() {\n        if (!this._started) {\n            this._update(this._ddpReactiveCollectionInstance.data()[0]);\n            this._ddpReactiveCollectionInstance._activateReactiveObject(this);\n            this._started = true;\n        }\n    }\n    /**\n     * Stops reactiveness for the document.\n     * @public\n     */\n    stop() {\n        if (this._started) {\n            this._ddpReactiveCollectionInstance._deactivateReactiveObject(this);\n            this._started = false;\n        }\n    }\n    /**\n     * Returns reactive document.\n     * @public\n     * @return {Object}\n     */\n    data() {\n        return this._data;\n    }\n    /**\n     * Runs a function every time a change occurs.\n     * @param {Function} f - Function which recieves a new value at each change.\n     * @public\n     */\n    onChange(f) {\n        const self = this;\n        return (0, ddpOnChange_js_1.ddpOnChange)(f, self, '_tickers');\n    }\n    /**\n     * Change reactivity settings.\n     * @param {Object} settings\n     * @param {boolean} settings.preserve - When preserve is true,reactive object won't change when corresponding object is being deleted.\n     * @public\n     */\n    settings({ preserve }) {\n        this._preserve = !!preserve;\n    }\n}\nexports.ddpReactiveDocument = ddpReactiveDocument;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ddpReactiveCollection = void 0;\nconst ddpReducer_js_1 = require(\"./ddpReducer.js\");\nconst ddpReactiveDocument_js_1 = require(\"./ddpReactiveDocument.js\");\nconst ddpOnChange_js_1 = require(\"./ddpOnChange.js\");\n/**\n * A reactive collection class.\n * @constructor\n * @param {ddpCollection} ddpCollection - Instance of @see ddpCollection class.\n * @param {Object} [settings={skip:0,limit:Infinity,sort:false}] - Object for declarative reactive collection slicing.\n * @param {Function} [filter=undefined] - Filter function.\n */\nclass ddpReactiveCollection {\n    constructor(ddpCollectionInstance, settings, filter) {\n        this._length = { result: 0 };\n        this._data = [];\n        this._rawData = [];\n        this._reducers = [];\n        this._tickers = [];\n        this._ones = [];\n        this._first = {};\n        this._skip = settings && typeof settings.skip === 'number' ? settings.skip : 0;\n        this._limit = settings && typeof settings.limit === 'number' ? settings.limit : Infinity;\n        this._sort = settings && typeof settings.sort === 'function' ? settings.sort : false;\n        this._syncFunc = function (skip, limit, sort) {\n            const options = {};\n            if (typeof skip === 'number')\n                options.skip = skip;\n            if (typeof limit === 'number')\n                options.limit = limit;\n            if (sort) {\n                options.sort = sort;\n            }\n            return ddpCollectionInstance.fetch.call(ddpCollectionInstance, options);\n        };\n        // @ts-ignore\n        // @ts-ignore\n        this._changeHandler = ddpCollectionInstance.onChange(({ prev, next, predicatePassed }) => {\n            if (prev && next) {\n                if (predicatePassed[0] == 0 && predicatePassed[1] == 1) {\n                    // prev falling, next passing filter, adding new element with sort\n                    this._smartUpdate(next);\n                }\n                else if (predicatePassed[0] == 1 && predicatePassed[1] == 0) {\n                    // prev passing, next falling filter, removing old element\n                    let i = this._rawData.findIndex((obj) => {\n                        return obj._id == prev._id;\n                    });\n                    this._removeItem(i);\n                }\n                else if (predicatePassed[0] == 1 && predicatePassed[1] == 1) {\n                    // both passing, should delete previous and add new\n                    let i = this._rawData.findIndex((obj) => {\n                        return obj._id == prev._id;\n                    });\n                    this._smartUpdate(next, i);\n                }\n            }\n            else if (!prev && next) {\n                // element was added and is passing the filter\n                // adding new element with sort\n                this._smartUpdate(next);\n            }\n            else if (prev && !next) {\n                // element was removed and is passing the filter, so it was in newCollection\n                // removing old element\n                let i = this._rawData.findIndex((obj) => {\n                    return obj._id == prev._id;\n                });\n                this._removeItem(i);\n            }\n            this._length.result = this._data.length;\n            this._reducers.forEach((reducer) => {\n                reducer.doReduce();\n            });\n            if (this._data[0] !== this._first) {\n                this._updateReactiveObjects();\n            }\n            this._first = this._data[0];\n            this._tickers.forEach((ticker) => {\n                ticker(this.data());\n            });\n            //@ts-ignore\n        }, filter ? filter : (_) => 1);\n        this.started = false;\n        this.start();\n    }\n    /**\n     * Removes document from the local collection copies.\n     * @private\n     * @param {number} i - Document index in this._rawData array.\n     */\n    _removeItem(i) {\n        this._rawData.splice(i, 1);\n        if (i >= this._skip && i < this._skip + this._limit) {\n            this._data.splice(i - this._skip, 1);\n            if (this._rawData.length >= this._skip + this._limit) {\n                this._data.push(this._rawData[this._skip + this._limit - 1]);\n            }\n        }\n        else if (i < this._skip) {\n            this._data.shift();\n            if (this._rawData.length >= this._skip + this._limit) {\n                this._data.push(this._rawData[this._skip + this._limit - 1]);\n            }\n        }\n    }\n    /**\n     * Adds document to local the collection this._rawData according to used sorting if specified.\n     * @private\n     * @param {Object} newEl - Document to be added to the local collection.\n     * @param j\n     * @return {boolean} - The first element in the collection was changed\n     */\n    _smartUpdate(newEl, j) {\n        let placement;\n        if (!this._rawData.length) {\n            placement = this._rawData.push(newEl) - 1;\n            if (placement >= this._skip && placement < this._skip + this._limit) {\n                this._data.push(newEl);\n            }\n            return;\n        }\n        if (this._sort) {\n            for (let i = 0; i < this._rawData.length; i++) {\n                if (this._sort(newEl, this._rawData[i]) < 1) {\n                    placement = i;\n                    if (i == j) {\n                        // new position is the the same\n                        this._rawData[i] = newEl;\n                        if (j >= this._skip && j < this._skip + this._limit) {\n                            this._data[j - this._skip] = newEl;\n                        }\n                    }\n                    else {\n                        // new position is different\n                        // removing old element and adding new\n                        this._removeItem(j);\n                        this._rawData.splice(i, 0, newEl);\n                        if (i >= this._skip && i < this._skip + this._limit) {\n                            this._data.splice(i - this._skip, 0, newEl);\n                            this._data.splice(this._limit);\n                        }\n                    }\n                    break;\n                }\n                if (i == this._rawData.length - 1) {\n                    placement = this._rawData.push(newEl) - 1;\n                    if (placement >= this._skip && placement < this._skip + this._limit) {\n                        this._data.push(newEl);\n                    }\n                    break;\n                }\n            }\n        }\n        else {\n            // no sorting, trying to change existing\n            if (typeof j === 'number') {\n                placement = j;\n                this._rawData[j] = newEl;\n                if (j >= this._skip && j < this._skip + this._limit) {\n                    this._data[j - this._skip] = newEl;\n                }\n            }\n            else {\n                placement = this._rawData.push(newEl) - 1;\n                if (placement >= this._skip && placement < this._skip + this._limit) {\n                    this._data.push(newEl);\n                }\n            }\n        }\n    }\n    /**\n     * Adds reducer.\n     * @private\n     * @param {ddpReducer} reducer - A ddpReducer object that needs to be updated on changes.\n     */\n    _activateReducer(reducer) {\n        this._reducers.push(reducer);\n    }\n    /**\n     * Adds reactive object.\n     * @private\n     * @param {ddpReactiveDocument} o - A ddpReactiveDocument object that needs to be updated on changes.\n     */\n    _activateReactiveObject(o) {\n        this._ones.push(o);\n    }\n    /**\n     * Removes reducer.\n     * @private\n     * @param {ddpReducer} reducer - A ddpReducer object that does not need to be updated on changes.\n     */\n    _deactivateReducer(reducer) {\n        let i = this._reducers.indexOf(reducer);\n        if (i > -1) {\n            this._reducers.splice(i, 1);\n        }\n    }\n    /**\n     * Removes reactive object.\n     * @private\n     * @param {ddpReactiveDocument} o - A ddpReducer object that does not need to be updated on changes.\n     */\n    _deactivateReactiveObject(o) {\n        let i = this._ones.indexOf(o);\n        if (i > -1) {\n            this._ones.splice(i, 1);\n        }\n    }\n    /**\n     * Sends new object state for every associated reactive object.\n     * @public\n     */\n    _updateReactiveObjects() {\n        this._ones.forEach((ro) => {\n            ro._update(this.data()[0]);\n        });\n    }\n    /**\n     * Updates ddpReactiveCollection settings.\n     * @public\n     * @param {Object} [settings={skip:0,limit:Infinity,sort:false}] - Object for declarative reactive collection slicing.\n     * @return {this}\n     */\n    settings(settings) {\n        let skip, limit, sort;\n        if (settings) {\n            skip = settings.skip;\n            limit = settings.limit;\n            sort = settings.sort;\n        }\n        this._skip = skip !== undefined ? skip : this._skip;\n        this._limit = limit !== undefined ? limit : this._limit;\n        this._sort = sort !== undefined ? sort : this._sort;\n        this._data.splice(0, this._data.length, ...this._syncFunc(this._skip, this._limit, this._sort));\n        this._updateReactiveObjects();\n        return this;\n    }\n    /**\n     * Updates the skip parameter only.\n     * @public\n     * @param {number} n - A number of documents to skip.\n     * @return {this}\n     */\n    skip(n) {\n        return this.settings({ skip: n });\n    }\n    /**\n     * Updates the limit parameter only.\n     * @public\n     * @param {number} n - A number of documents to observe.\n     * @return {this}\n     */\n    limit(n) {\n        return this.settings({ limit: n });\n    }\n    /**\n     * Stops reactivity. Also stops associated reactive objects.\n     * @public\n     */\n    stop() {\n        if (this.started) {\n            this._changeHandler.stop();\n            this.started = false;\n        }\n    }\n    /**\n     * Starts reactivity. This method is being called on instance creation.\n     * Also starts every associated reactive object.\n     * @public\n     */\n    start() {\n        if (!this.started) {\n            this._rawData.splice(0, this._rawData.length, ...this._syncFunc(0, 0, this._sort));\n            this._data.splice(0, this._data.length, ...this._syncFunc(this._skip, this._limit, this._sort));\n            this._updateReactiveObjects();\n            this._changeHandler.start();\n            this.started = true;\n        }\n    }\n    /**\n     * Sorts local collection according to specified function.\n     * Specified function form {@link https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort}.\n     * @public\n     * @param {Function} f - A function used for sorting.\n     * @return {this}\n     */\n    sort(f) {\n        this._sort = f;\n        if (this._sort) {\n            this._rawData.splice(0, this._rawData.length, ...this._syncFunc(0, 0, this._sort));\n            this._data.splice(0, this._data.length, ...this._syncFunc(this._skip, this._limit, this._sort));\n            this._updateReactiveObjects();\n        }\n        return this;\n    }\n    /**\n     * Returns reactive local collection with applied sorting, skip and limit.\n     * This returned array is being mutated within this class instance.\n     * @public\n     * @return {Array} - Local collection with applied sorting, skip and limit.\n     */\n    data() {\n        return this._data;\n    }\n    /**\n     * Runs a function every time a change occurs.\n     * @param {Function} f - Function which recieves new collection at each change.\n     * @public\n     */\n    onChange(f) {\n        const self = this;\n        return (0, ddpOnChange_js_1.ddpOnChange)(f, self, '_tickers');\n    }\n    /**\n     * Maps reactive local collection to another reactive array.\n     * Specified function form {@link https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/map}.\n     * @public\n     * @param {Function} f - Function that produces an element of the new Array.\n     * @return {ddpReducer} - Object that allows to get reactive mapped data @see ddpReducer.\n     */\n    // @ts-ignore\n    map(f) {\n        return new ddpReducer_js_1.ddpReducer(this, function (accumulator, el, i, a) {\n            return accumulator.concat(f(el, i, a));\n        }, []);\n    }\n    /**\n     * Reduces reactive local collection.\n     * Specified function form {@link https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce}.\n     * @public\n     * @param {Function} f - Function to execute on each element in the array.\n     * @param {*} initialValue - Value to use as the first argument to the first call of the function.\n     * @return {ddpReducer} - Object that allows to get reactive object based on reduced reactive local collection @see ddpReducer.\n     */\n    reduce(f, initialValue) {\n        return new ddpReducer_js_1.ddpReducer(this, f, initialValue);\n    }\n    /**\n     * Reactive length of the local collection.\n     * @public\n     * @return {Object} - Object with reactive length of the local collection. {result}\n     */\n    count() {\n        return this._length;\n    }\n    /**\n     * Returns a reactive object which fields are always the same as the first object in the collection.\n     * @public\n     * @param {Object} [settings={preserve:false}] - Settings for reactive object. Use {preserve:true} if you want to keep object on remove.\n     * @return {ddpReactiveDocument} - Object that allows to get reactive object based on reduced reactive local collection @see ddpReactiveDocument.\n     */\n    one(settings) {\n        return new ddpReactiveDocument_js_1.ddpReactiveDocument(this, settings);\n    }\n}\nexports.ddpReactiveCollection = ddpReactiveCollection;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ddpCollection = void 0;\nconst fullCopy_js_1 = require(\"../helpers/fullCopy.js\");\nconst ddpOnChange_js_1 = require(\"./ddpOnChange.js\");\nconst ddpReactiveCollection_1 = require(\"./ddpReactiveCollection\");\nconst ejson_1 = __importDefault(require(\"ejson\"));\n/**\n * DDP collection class.\n * @constructor\n * @param {String} name - Collection name.\n * @param {DDPClient} server - simpleDDP instance.\n */\nclass ddpCollection {\n    constructor(name, server) {\n        this._filter = false;\n        this._name = name;\n        this._server = server;\n    }\n    /**\n     * Allows to specify specific documents inside the collection for reactive data and fetching.\n     * Important: if you change filter function it won't change for the already created reactive objects.\n     * @public\n     * @param {Function} f - Filter function, recieves as arguments object, index and array.\n     * @return {this}\n     */\n    filter(f = false) {\n        this._filter = f;\n        return this;\n    }\n    /**\n     * Imports data inside the collection and emits all relevant events.\n     * Both string and JS object types are supported.\n     * @public\n     * @param {string|Object} data - EJSON string or EJSON or js object.\n     */\n    importData(data) {\n        const c = typeof data === 'string' ? ejson_1.default.parse(data) : data;\n        if (c[this._name]) {\n            c[this._name].forEach((doc, i, arr) => {\n                // @ts-ignore\n                if (!this._filter || (this._filter && typeof this._filter === 'function' && this._filter(doc, i, arr))) {\n                    this.ddpConnection.emit('added', {\n                        msg: 'added',\n                        _id: doc._id,\n                        collection: this._name,\n                        fields: doc.fields\n                    });\n                }\n            });\n        }\n    }\n    /**\n     * Exports data from the collection.\n     * @public\n     * @param {string} [format='string'] - If 'string' then returns EJSON string, if 'raw' returns js object.\n     * @return {string|Object}\n     */\n    exportData(format) {\n        let collectionCopy = { [this._name]: this.fetch() };\n        if (format === undefined || format == 'string') {\n            return ejson_1.default.stringify(collectionCopy);\n        }\n        else if (format == 'raw') {\n            return collectionCopy;\n        }\n    }\n    /**\n     * Returns collection data based on filter and on passed settings. Supports skip, limit and sort.\n     * Order is 'filter' then 'sort' then 'skip' then 'limit'.\n     * @public\n     * @param {Object} [settings={skip:0,limit:Infinity,sort:null}] - Skip and limit are numbers or Infinity,\n     * sort is a standard js array sort function.\n     * @return {Object}\n     */\n    fetch(settings) {\n        let skip, limit, sort;\n        if (settings) {\n            skip = settings.skip;\n            limit = settings.limit;\n            sort = settings.sort;\n        }\n        let c = this._server.collections[this._name];\n        let collectionCopy = c ? (0, fullCopy_js_1.fullCopy)(c) : [];\n        if (this._filter)\n            collectionCopy = collectionCopy.filter(this._filter);\n        if (sort)\n            collectionCopy.sort(sort);\n        if (typeof skip === 'number')\n            collectionCopy.splice(0, skip);\n        if (typeof limit === 'number' || limit == Infinity)\n            collectionCopy.splice(limit);\n        return collectionCopy;\n    }\n    /**\n     * Returns reactive collection object.\n     * @see ddpReactiveCollection\n     * @public\n     * @param {Object} [settings={skip:0,limit:Infinity,sort:null}]\n     * @return {ddpReactiveCollection}\n     */\n    reactive(settings) {\n        return new ddpReactiveCollection_1.ddpReactiveCollection(this, settings, this._filter);\n    }\n    /**\n     * Returns change observer.\n     * @see ddpOnChange\n     * @public\n     * @param {Function} f\n     * @param {Function} filter\n     * @return {ddpOnChange}\n     */\n    onChange(f, filter) {\n        let obj = {\n            collection: this._name,\n            f: f,\n            filter\n        };\n        if (this._filter)\n            obj.filter = this._filter;\n        if (filter)\n            obj.filter = filter;\n        return (0, ddpOnChange_js_1.ddpOnChange)(obj, this._server);\n    }\n}\nexports.ddpCollection = ddpCollection;\n", "import DDP from \"./ddp/ddp\";\nimport EJSON from \"ejson\";\n\nimport { isEqual } from './helpers/isEqual.js';\nimport { fullCopy } from './helpers/fullCopy.js';\n\nimport { ddpEventListener } from './classes/ddpEventListener.js';\nimport { ddpSubscription } from './classes/ddpSubscription.js';\nimport { ddpCollection } from './classes/ddpCollection.js';\n\nfunction uniqueIdFuncGen() {\n  let idCounter = 0;\n\n  return function () {\n    return idCounter++;\n  }\n}\n\nconst simpleDDPcounter = uniqueIdFuncGen();\n\nfunction connectPlugins(plugins: any[], ...places: any[]) {\n  if (Array.isArray(plugins)) {\n    plugins.forEach((p) => {\n      places.forEach((place) => {\n        if (p[place]) {\n          // @ts-ignore\n          p[place].call(this);\n        }\n      });\n    });\n  }\n}\n\nexport type DDPMessage =\n  {\n    collection: PropertyKey;\n    id: any; fields: {};\n    cleared: any[];\n    f:\n      (p: { removed: boolean; added: any; changed: boolean }) => any;\n    msg: string;\n    name: string;\n    params: any[];\n    result: any;\n    sub: any;\n    subs: string | string[]\n    filter: (newObjFullCopy: { _id: any }, number: number, collection1: any[]) => any;\n  };\n\nexport type SimpleDDPConnectOptions = {\n  endpoint: string,\n  SocketConstructor: typeof WebSocket,\n  autoConnect?: boolean,\n  autoReconnect?: boolean,\n  reconnectInterval?: number,\n  clearDataOnReconnection?: boolean,\n  maxTimeout?: number,\n  cleanQueue?: boolean,\n  plugins?: any[],\n  ddpVersion?: string,\n\n}\n\n/**\n * Creates an instance of DDPServerConnection class. After being constructed, the instance will\n * establish a connection with the DDP server and will try to maintain it open.\n * @version 2.2.4\n */\nclass DDPClient {\n  private _id = simpleDDPcounter();\n  private _opGenId = uniqueIdFuncGen();\n  private _opts: SimpleDDPConnectOptions\n  ddpConnection: DDP;\n  subs: ddpSubscription[] = [];\n  /**\n   All collections data recieved from server.\n\n   @type Object\n   */\n  collections: {\n    [key: PropertyKey]: any[]\n  } = {};\n  onChangeFuncs: DDPMessage[] = [];\n\n  /**\n   Whether the client is connected to server.\n\n   @type Boolean\n   */\n  connected = false;\n  maxTimeout: number | undefined;\n  clearDataOnReconnection: boolean;\n  tryingToConnect: boolean;\n  tryingToDisconnect = false;\n  willTryToReconnect: boolean;\n  connectedEvent: { stop: () => void; start: () => void };\n  connectedEventRestartSubs: { stop: () => void; start: () => void };\n  disconnectedEvent: { stop: () => void; start: () => void };\n  addedEvent: { stop: () => void; start: () => void };\n  changedEvent: { stop: () => void; start: () => void };\n  removedEvent: { stop: () => void; start: () => void };\n\n  /**\n   * @param {Object} options\n   * @param {string} options.endpoint - The location of the websocket server. Its format depends on the type of socket you are using. If you are using https connection you have to use wss:// protocol.\n   * @param {Function} options.SocketConstructor - The constructor function that will be used to construct the socket. Meteor (currently the only DDP server available) supports websockets and SockJS sockets. So, practically speaking, this means that on the browser you can use either the browser's native WebSocket constructor or the SockJS constructor provided by the SockJS library. On the server you can use whichever library implements the websocket protocol (e.g. faye-websocket).\n   * @param {boolean} [options.autoConnect=true] - Whether to establish the connection to the server upon instantiation. When false, one can manually establish the connection with the connect method.\n   * @param {boolean} [options.autoReconnect=true] - Whether to try to reconnect to the server when the socket connection closes, unless the closing was initiated by a call to the disconnect method.\n   * @param {number} [options.reconnectInterval=1000] - The interval in ms between reconnection attempts.\n   * @param {boolean} [options.clearDataOnReconnection=true] - Whether to clear all collections data after a reconnection. This invokes fake `removed` messages on every document.\n   * @param {number} [options.maxTimeout=undefined] - Maximum wait for a response from the server to the method call. Default no maxTimeout.\n   * @param {Array} [plugins] - Array of plugins.\n   * @return {DDPClient} - A new simpleDDP instance.\n   * @example\n   * var opts = {\n   *    endpoint: \"ws://someserver.com/websocket\",\n   *    SocketConstructor: WebSocket,\n   *    reconnectInterval: 5000\n   * };\n   * var server = new simpleDDP(opts);\n   */\n  constructor(opts: SimpleDDPConnectOptions, plugins?: any[]) {\n\n    this._opts = opts;\n    this.ddpConnection = new DDP(opts);\n\n\n    this.maxTimeout = opts.maxTimeout;\n    this.clearDataOnReconnection = opts.clearDataOnReconnection === undefined ? true : opts.clearDataOnReconnection;\n    this.tryingToConnect = opts.autoConnect === undefined ? true : opts.autoConnect;\n    this.willTryToReconnect = opts.autoReconnect === undefined ? true : opts.autoReconnect;\n\n    // @ts-ignore\n    let pluginConnector = connectPlugins.bind(this, plugins);\n\n    // plugin init section\n    pluginConnector('init', 'beforeConnected');\n\n    this.connectedEvent = this.on('connected', () => {\n      this.connected = true;\n      this.tryingToConnect = false;\n    });\n\n    pluginConnector('afterConnected', 'beforeSubsRestart');\n\n    this.connectedEventRestartSubs = this.on('connected', () => {\n      if (this.clearDataOnReconnection) {\n        // we have to clean local collections\n        this.clearData().then(() => {\n          this.ddpConnection.emit('clientReady');\n          this.restartSubs();\n        });\n      } else {\n        this.ddpConnection.emit('clientReady');\n        this.restartSubs();\n      }\n    });\n\n    pluginConnector('afterSubsRestart', 'beforeDisconnected');\n\n    this.disconnectedEvent = this.on('disconnected', () => {\n      this.connected = false;\n      this.tryingToDisconnect = false;\n      this.tryingToConnect = this.willTryToReconnect;\n    });\n\n    pluginConnector('afterDisconnected', 'beforeAdded');\n\n    this.addedEvent = this.on('added', (m: DDPMessage) => this.dispatchAdded(m));\n    pluginConnector('afterAdded', 'beforeChanged');\n    this.changedEvent = this.on('changed', (m: DDPMessage) => this.dispatchChanged(m));\n    pluginConnector('afterChanged', 'beforeRemoved');\n    this.removedEvent = this.on('removed', (m: DDPMessage) => this.dispatchRemoved(m));\n    pluginConnector('afterRemoved', 'after');\n  }\n\n  /**\n   * Restarts all subs.\n   * @private\n   */\n  restartSubs() {\n    this.subs.forEach((sub) => {\n      if (sub.isOn()) {\n        sub.restart();\n      }\n    });\n  }\n\n  /**\n   * Use this for fetching the subscribed data and for reactivity inside the collection.\n   * @public\n   * @param {string} name - Collection name.\n   * @return {ddpCollection}\n   */\n  collection<T>(name: string) {\n    return new ddpCollection<T>(name, this);\n  }\n\n  /**\n   * Dispatcher for ddp added messages.\n   * @private\n   * @param {Object} m - DDP message.\n   */\n  dispatchAdded(m: DDPMessage) {\n    //m  ,   \n    // m is always the same, it is probably worth copying\n    if (this.collections.hasOwnProperty(m.collection)) {\n      let i = this.collections[m.collection].findIndex((obj) => {\n        return obj._id == m.id;\n      });\n      if (i > -1) {\n        // new sub knows nothing about old sub\n        this.collections[m.collection].splice(i, 1);\n      }\n    }\n    if (!this.collections.hasOwnProperty(m.collection)) this.collections[m.collection] = [];\n    let newObj = Object.assign({ _id: m.id }, m.fields);\n    let i = this.collections[m.collection].push(newObj);\n    let fields: {\n      [key: string]: number;\n    } = {};\n    if (m.fields) {\n      Object.keys(m.fields).map((p) => {\n        fields[p] = 1;\n      });\n    }\n    this.onChangeFuncs.forEach((l: DDPMessage) => {\n      if (l.collection == m.collection) {\n        let hasFilter = l.hasOwnProperty('filter');\n        let newObjFullCopy = fullCopy(newObj);\n        if (!hasFilter) {\n          l.f({ changed: false, added: newObjFullCopy, removed: false });\n        } else if (hasFilter && l.filter(newObjFullCopy, i - 1, this.collections[m.collection])) {\n          // @ts-ignore\n          l.f({ prev: false, next: newObjFullCopy, fields, fieldsChanged: newObjFullCopy, fieldsRemoved: [] });\n        }\n      }\n    });\n  }\n\n  /**\n   * Dispatcher for ddp changed messages.\n   * @private\n   * @param {Object} m - DDP message.\n   */\n  dispatchChanged(m: DDPMessage) {\n    if (!this.collections.hasOwnProperty(m.collection)) this.collections[m.collection] = [];\n    let i = this.collections[m.collection].findIndex((obj) => {\n      return obj._id == m.id;\n    });\n    if (i > -1) {\n      const t = this.collections[m.collection][i];\n      let prev: typeof t = fullCopy(this.collections[m.collection][i]);\n      let fields: {\n        [key: string]: number;\n      } = {}, fieldsChanged = {}, fieldsRemoved: any[] = [];\n      if (m.fields) {\n        fieldsChanged = m.fields;\n        Object.keys(m.fields).map((p) => {\n          fields[p] = 1;\n        });\n        Object.assign(this.collections[m.collection][i], m.fields);\n      }\n      if (m.cleared) {\n        fieldsRemoved = m.cleared;\n        m.cleared.forEach((fieldName) => {\n          fields[fieldName] = 0;\n          delete this.collections[m.collection][i][fieldName];\n        });\n      }\n      let next = this.collections[m.collection][i];\n      this.onChangeFuncs.forEach((l) => {\n        if (l.collection == m.collection) {\n          // perhaps add a parameter inside l object to choose if full copy should occur\n          let hasFilter = l.hasOwnProperty('filter');\n          if (!hasFilter) {\n            l.f({\n              // @ts-ignore\n              changed: { prev, next: fullCopy(next), fields, fieldsChanged, fieldsRemoved },\n              added: false,\n              removed: false\n            });\n          } else {\n            let fCopyNext = fullCopy(next);\n            let prevFilter = l.filter(prev, i, this.collections[m.collection]);\n            let nextFilter = l.filter(fCopyNext, i, this.collections[m.collection]);\n            if (prevFilter || nextFilter) {\n              l.f({\n                // @ts-ignore\n                prev,\n                next: fCopyNext,\n                fields,\n                fieldsChanged,\n                fieldsRemoved,\n                predicatePassed: [prevFilter, nextFilter]\n              });\n            }\n          }\n        }\n      });\n    } else {\n      this.dispatchAdded(m);\n    }\n  }\n\n  /**\n   * Dispatcher for ddp removed messages.\n   * @private\n   * @param {Object} m - DDP message.\n   */\n  dispatchRemoved(m: DDPMessage) {\n    if (!this.collections.hasOwnProperty(m.collection)) this.collections[m.collection] = [];\n    let i = this.collections[m.collection].findIndex((obj) => {\n      return obj._id == m.id;\n    });\n    if (i > -1) {\n      let prevProps;\n      let removedObj = this.collections[m.collection].splice(i, 1)[0];\n      this.onChangeFuncs.forEach((l) => {\n        if (l.collection == m.collection) {\n          let hasFilter = l.hasOwnProperty('filter');\n          if (!hasFilter) {\n            //    fullCopy,      dispatchAdded  dispatchChanged\n            // perhaps you should make a fullCopy so that it is like in the case of dispatchAdded and dispatchChanged\n            l.f({ changed: false, added: false, removed: removedObj });\n          } else {\n            if (l.filter(removedObj, i, this.collections[m.collection])) {\n              // @ts-ignore\n              l.f({ prev: removedObj, next: false });\n            }\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Connects to the ddp server. The method is called automatically by the class constructor if the autoConnect option is set to true (default behavior).\n   * @public\n   * @return {Promise} - Promise which resolves when connection is established.\n   */\n  connect() {\n    this.willTryToReconnect = this._opts.autoReconnect === undefined ? true : this._opts.autoReconnect;\n    return new Promise<void>((resolve, reject) => {\n      if (!this.tryingToConnect) {\n        this.ddpConnection.connect();\n        this.tryingToConnect = true;\n      }\n      if (!this.connected) {\n        let stoppingInterval: number | undefined;\n\n        const connectionHandler = this.on('connected', () => {\n          clearTimeout(stoppingInterval);\n          connectionHandler.stop();\n          this.tryingToConnect = false;\n          resolve();\n        });\n\n        if (this.maxTimeout) {\n          stoppingInterval = setTimeout(() => {\n            connectionHandler.stop();\n            this.tryingToConnect = false;\n            reject(new Error('MAX_TIMEOUT_REACHED'));\n          }, this.maxTimeout);\n        }\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  /**\n   * Disconnects from the ddp server by closing the WebSocket connection. You can listen on the disconnected event to be notified of the disconnection.\n   * @public\n   * @return {Promise} - Promise which resolves when connection is closed.\n   */\n  disconnect() {\n    this.willTryToReconnect = false;\n    return new Promise<void>((resolve, reject) => {\n      if (!this.tryingToDisconnect) {\n        this.ddpConnection.disconnect();\n        this.tryingToDisconnect = true;\n      }\n      if (this.connected) {\n        let connectionHandler = this.on('disconnected', () => {\n          connectionHandler.stop();\n          this.tryingToDisconnect = false;\n          resolve();\n        });\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  /**\n   * Calls a remote method with arguments passed in array.\n   * @public\n   * @param {string} method - Name of the server publication.\n   * @param {Array} [arguments] - Array of parameters to pass to the remote method. Pass an empty array or don't pass anything if you do not wish to pass any parameters.\n   * @param {boolean} [atBeginning=false] - If true puts method call at the beginning of the requests queue.\n   * @return {Promise} - Promise object, which resolves when receives a result send by server and rejects when receives an error send by server.\n   * @example\n   * server.apply(\"method1\").then(function(result) {\n   *\tconsole.log(result); //show result message in console\n   *    if (result.someId) {\n   *        //server sends us someId, lets call next method using this id\n   *        return server.apply(\"method2\",[result.someId]);\n   *    } else {\n   *        //we didn't recieve an id, lets throw an error\n   *        throw \"no id sent\";\n   *    }\n   * }).then(function(result) {\n   *    console.log(result); //show result message from second method\n   * }).catch(function(error) {\n   *    console.log(result); //show error message in console\n   * });\n   */\n  apply<T extends any[], R>(method: string, args: T, atBeginning = false) {\n    return new Promise((resolve, reject) => {\n      const methodId = this.ddpConnection.method(method, args ? args : [], atBeginning);\n      const _self = this;\n\n      let stoppingInterval: number | undefined;\n\n      function onMethodResult(message: { id: string; error: any; result: unknown; }) {\n        if (message.id == methodId) {\n          clearTimeout(stoppingInterval);\n          if (!message.error) {\n            resolve(message.result);\n          } else {\n            reject(message.error);\n          }\n          _self.ddpConnection.removeListener('result', onMethodResult);\n        }\n      }\n\n      this.ddpConnection.on(\"result\", onMethodResult);\n\n      if (this.maxTimeout) {\n        stoppingInterval = setTimeout(() => {\n          this.ddpConnection.removeListener('result', onMethodResult);\n          reject(new Error('MAX_TIMEOUT_REACHED'));\n        }, this.maxTimeout);\n      }\n    });\n  }\n\n  /**\n   * Calls a remote method with arguments passed after the first argument.\n   * Syntactic sugar for @see apply.\n   * @public\n   * @param {string} method - Name of the server publication.\n   * @param {...any} [args] - List of parameters to pass to the remote method. Parameters are passed as function arguments.\n   * @return {Promise} - Promise object, which resolves when receives a result send by server and rejects when receives an error send by server.\n   */\n  call<TArgs extends any[], R = unknown>(method: string, ...args: TArgs): Promise<R> {\n    return this.apply(method, args) as Promise<R>;\n  }\n\n  /**\n   * Tries to subscribe to a specific publication on server.\n   * Starts the subscription if the same subscription exists.\n   * @public\n   * @param {string} pubname - Name of the publication on server.\n   * @param {Array} [arguments] - Array of parameters to pass to the remote method. Pass an empty array or don't pass anything if you do not wish to pass any parameters.\n   * @return {ddpSubscription} - Subscription.\n   */\n  sub(pubname: string, args: any[]) {\n    const k = this.apply('foo', [123, 2])\n    let hasSuchSub = this.subs.find((sub) => {\n      return sub.pubname == pubname && isEqual(sub.args, Array.isArray(args) ? args : []);\n    });\n    if (!hasSuchSub) {\n      let i = this.subs.push(new ddpSubscription(pubname, Array.isArray(args) ? args : [], this));\n      return this.subs[i - 1];\n    } else {\n      if (hasSuchSub.isStopped()) hasSuchSub.start();\n      return hasSuchSub;\n    }\n  }\n\n  /**\n   * Tries to subscribe to a specific publication on server.\n   * Syntactic sugar for @see sub.\n   * @public\n   * @param {string} pubname - Name of the publication on server.\n   * @param {...any} [args] - List of parameters to pass to the remote method. Parameters are passed as function arguments.\n   * @return {ddpSubscription} - Subscription.\n   */\n  subscribe(pubname: string, ...args: any[]) {\n    return this.sub(pubname, args);\n  }\n\n  /**\n   * Starts listening server for basic DDP event running f each time the message arrives.\n   * @public\n   * @param {string} event - Any event name from DDP specification.\n   * Default suppoted events: `connected`, `disconnected`, `added`, `changed`, `removed`, `ready`, `nosub`, `error`, `ping`, `pong`.\n   * @param {Function} f - Function which receives a message from a DDP server as a first argument each time server is invoking event.\n   * @return {ddpEventListener}\n   * @example\n   * server.on('connected', () => {\n   *     // you can show a success message here\n   * });\n   *\n   * server.on('disconnected', () => {\n   *     // you can show a reconnection message here\n   * });\n   */\n  on(event: string, f: (message: DDPMessage, id: string) => void) {\n    return ddpEventListener(event, f, this);\n  }\n\n  /**\n   * Stops all reactivity.\n   */\n  stopChangeListeners() {\n    this.onChangeFuncs = [];\n  }\n\n  /**\n   * Removes all documents like if it was removed by the server publication.\n   * @public\n   * @return {Promise} - Resolves when data is successfully removed.\n   */\n  clearData() {\n    return new Promise<void>((resolve, reject) => {\n      let totalDocuments = 0;\n      Object.keys(this.collections).forEach((collection) => {\n        totalDocuments += Array.isArray(this.collections[collection]) ? this.collections[collection].length : 0;\n      });\n\n      if (totalDocuments === 0) {\n        resolve();\n      } else {\n        let counter = 0;\n        let uniqueId = this._id + \"-\" + this._opGenId();\n\n        const listener = this.on('removed', (m, id) => {\n          if (id == uniqueId) {\n            counter++;\n            if (counter == totalDocuments) {\n              listener.stop();\n              resolve();\n            }\n          }\n        });\n\n        Object.keys(this.collections).forEach((collection) => {\n          this.collections[collection].forEach((doc) => {\n            this.ddpConnection.emit('removed', {\n              msg: 'removed',\n              id: doc.id,\n              collection: collection\n            }, uniqueId);\n          });\n        });\n      }\n    });\n  }\n\n  /**\n   * Imports the data like if it was published by the server.\n   * @public\n   * @param {Object|string} data - ESJON string or EJSON.\n   * @return {Promise} - Resolves when data is successfully imported.\n   */\n  importData(data: string | object) {\n    return new Promise<void>((resolve, reject) => {\n      let c = typeof data === 'string' ? EJSON.parse(data) : data;\n\n      let totalDocuments = 0;\n      Object.keys(c).forEach((collection) => {\n        totalDocuments += Array.isArray(c[collection]) ? c[collection].length : 0;\n      });\n\n      let counter = 0;\n      let uniqueId = this._id + \"-\" + this._opGenId();\n\n      const listener = this.on('added', (m, id) => {\n        if (id == uniqueId) {\n          counter++;\n          if (counter == totalDocuments) {\n            listener.stop();\n            resolve();\n          }\n        }\n      });\n\n      Object.keys(c).forEach((collection) => {\n        c[collection].forEach((doc: { id: any; }) => {\n\n          let docFields = Object.assign({}, doc);\n          delete docFields['id'];\n\n          this.ddpConnection.emit('added', {\n            msg: 'added',\n            id: doc.id,\n            collection: collection,\n            fields: docFields\n          }, uniqueId);\n        });\n      });\n    });\n  }\n\n  /**\n   * Exports the data\n   * @public\n   * @param {string} [format='string'] - Possible values are 'string' (EJSON string) and 'raw' (EJSON).\n   * @return {Object|string} - EJSON string or EJSON.\n   */\n  exportData(format?: string) {\n    if (format === undefined || format == 'string') {\n      return EJSON.stringify(this.collections);\n    } else if (format == 'raw') {\n      return fullCopy(this.collections);\n    }\n  }\n\n  /**\n   * Marks every passed @see ddpSubscription object as ready like if it was done by the server publication.\n   * @public\n   * @param {Array} subs - Array of @see ddpSubscription objects.\n   * @return {Promise} - Resolves when all passed subscriptions are marked as ready.\n   */\n  markAsReady(subs: any[]) {\n    return new Promise<void>((resolve, reject) => {\n      let uniqueId = this._id + \"-\" + this._opGenId();\n\n      this.ddpConnection.emit('ready', {\n        msg: 'ready',\n        subs: subs.map(sub => sub._getId())\n      }, uniqueId);\n\n      const listener = this.on('ready', (m, id) => {\n        if (id == uniqueId) {\n          listener.stop();\n          resolve();\n        }\n      });\n    });\n  }\n\n}\n\nexport default DDPClient;\n"],
  "mappings": "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",
  "names": ["exports", "exports", "obj", "isFunction", "isObject", "keysOf", "lengthOf", "hasOwn", "convertMapToObject", "isArguments", "isInfOrNaN", "handleError", "getChar", "getVal", "encode", "newBinary", "decode", "module", "str", "canonicalStringify", "EJSON", "toJSONValueHelper", "adjustTypesToJSONValue", "fromJSONValueHelper", "adjustTypesFromJSONValue", "DDP", "isEqual", "ddpEventListener", "ddpSubscription", "ddpCollection", "DDP", "i", "EJSON"]
}
